{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["export function getImage(query) {\n  const BASE_URL = 'https://pixabay.com/api/';\n  const API_KEY = '42982989-b171e2f7a41a03eb4f5866708';\n  const params = new URLSearchParams({\n    key: API_KEY,\n    q: query,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  });\n  const url = `${BASE_URL}?${params}`;\n  return fetch(url).then(res => {\n    if (!res.ok) {\n      throw new Error(res.status);\n    }\n    return res.json();\n  });\n}\n","export function galleryTemplate(arr) {\n  return arr\n    .map(\n      ({\n        largeImageURL,\n        webformatURL,\n        tags,\n        likes,\n        views,\n        comments,\n        downloads,\n        ...info\n      }) => ` <li class=\"gallery-item\">\n      <div class=\"lightbox\">\n        <a class=\"gallery-link\" href=\"${largeImageURL}\">\n          <img class=\"gallery-image\" src=\"${webformatURL}\" alt=\"${tags}\"\n        /></a>\n      </div>\n      <ul class=\"gallery-data-list\">\n        <li class=\"gallery-data-item\">\n          <h2>Likes</h2>\n          <p>${likes}</p>\n        </li>\n        <li class=\"gallery-data-item\">\n          <h2>Views</h2>\n          <p>${views}</p>\n        </li>\n        <li class=\"gallery-data-item\">\n          <h2>Comment</h2>\n          <p>${comments}</p>\n        </li>\n        <li class=\"gallery-data-item\">\n          <h2>Downloads</h2>\n          <p>${downloads}</p>\n        </li>\n      </ul>\n    </li>\n`\n    )\n    .join('');\n}\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport { getImage } from './js/pixabay-api';\nimport { galleryTemplate } from './js/render-functions';\n\nconst searchForm = document.querySelector('.search-form');\nconst imageList = document.querySelector('.image-list');\n\nlet lightbox = new SimpleLightbox('.lightbox a', { captionsData: 'alt' });\nlightbox.on('show.simplelightbox', function () {});\n\nsearchForm.addEventListener('submit', onSubmit);\nfunction onSubmit(evt) {\n  evt.preventDefault();\n  const query = evt.target.elements.search.value.trim();\n  imageList.innerHTML = '<div class=\"loader\"></div>';\n\n  if (query !== '') {\n    getImage(query)\n      .then(data => {\n        const markup = galleryTemplate(data.hits);\n        imageList.innerHTML = markup;\n        lightbox.refresh();\n        if (data.hits.length === 0) {\n          iziToast.error({\n            maxWidth: '432px',\n            height: '48px',\n            color: 'red',\n            position: 'topRight',\n            message:\n              'Sorry, there are no images matching your search query. Please try again!',\n          });\n        }\n      })\n      .catch(err => {\n        console.log(err);\n      });\n  }\n  evt.target.reset();\n}\n"],"names":["getImage","query","BASE_URL","API_KEY","params","url","res","galleryTemplate","arr","largeImageURL","webformatURL","tags","likes","views","comments","downloads","info","searchForm","imageList","lightbox","SimpleLightbox","onSubmit","evt","data","markup","iziToast","err"],"mappings":"6vBAAO,SAASA,EAASC,EAAO,CAC9B,MAAMC,EAAW,2BACXC,EAAU,qCACVC,EAAS,IAAI,gBAAgB,CACjC,IAAKD,EACL,EAAGF,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAG,EACKI,EAAM,GAAGH,CAAQ,IAAIE,CAAM,GACjC,OAAO,MAAMC,CAAG,EAAE,KAAKC,GAAO,CAC5B,GAAI,CAACA,EAAI,GACP,MAAM,IAAI,MAAMA,EAAI,MAAM,EAE5B,OAAOA,EAAI,MACf,CAAG,CACH,CCjBO,SAASC,EAAgBC,EAAK,CACnC,OAAOA,EACJ,IACC,CAAC,CACC,cAAAC,EACA,aAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,EACA,GAAGC,CACX,IAAY;AAAA;AAAA,wCAE4BP,CAAa;AAAA,4CACTC,CAAY,UAAUC,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAMvDC,CAAK;AAAA;AAAA;AAAA;AAAA,eAILC,CAAK;AAAA;AAAA;AAAA;AAAA,eAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,eAIRC,CAAS;AAAA;AAAA;AAAA;AAAA,CAKnB,EACA,KAAK,EAAE,CACZ,CCjCA,MAAME,EAAa,SAAS,cAAc,cAAc,EAClDC,EAAY,SAAS,cAAc,aAAa,EAEtD,IAAIC,EAAW,IAAIC,EAAe,cAAe,CAAE,aAAc,KAAK,CAAE,EACxED,EAAS,GAAG,sBAAuB,UAAY,CAAA,CAAE,EAEjDF,EAAW,iBAAiB,SAAUI,CAAQ,EAC9C,SAASA,EAASC,EAAK,CACrBA,EAAI,eAAc,EAClB,MAAMrB,EAAQqB,EAAI,OAAO,SAAS,OAAO,MAAM,OAC/CJ,EAAU,UAAY,6BAElBjB,IAAU,IACZD,EAASC,CAAK,EACX,KAAKsB,GAAQ,CACZ,MAAMC,EAASjB,EAAgBgB,EAAK,IAAI,EACxCL,EAAU,UAAYM,EACtBL,EAAS,QAAO,EACZI,EAAK,KAAK,SAAW,GACvBE,EAAS,MAAM,CACb,SAAU,QACV,OAAQ,OACR,MAAO,MACP,SAAU,WACV,QACE,0EACd,CAAW,CAEX,CAAO,EACA,MAAMC,GAAO,CACZ,QAAQ,IAAIA,CAAG,CACvB,CAAO,EAELJ,EAAI,OAAO,OACb"}